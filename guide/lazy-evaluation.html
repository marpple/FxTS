<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lazy Evaluation | FxTS</title>
    <meta name="description" content="A functional library for TypeScript/JavaScript programmers.">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.Cza01gME.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.B58PYq4B.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BW7ZjzJI.js">
    <link rel="modulepreload" href="/assets/chunks/framework.qjBC5Ck2.js">
    <link rel="modulepreload" href="/assets/guide_lazy-evaluation.md.B4b2LQyi.lean.js">
    <link rel="icon" href="/img/favicon.ico">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BTGRJYWTNK"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BTGRJYWTNK");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle has-sidebar" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!--[--><img class="VPImage logo" src="/img/fxts.png" alt data-v-8426fc1a><!--]--><span data-v-1e38c6bc>FxTS</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!--[--><!----><div id="docsearch"><button type="button" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/getting-started.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/api/" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/marpple/fxts" target="_blank" rel="noreferrer" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>GitHub</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-db738f89><span class="vpi-align-left menu-icon" data-v-db738f89></span><span class="menu-text" data-v-db738f89>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-1df9f90f data-v-af661f50><div class="curtain" data-v-af661f50></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-af661f50><span class="visually-hidden" id="sidebar-aria-label" data-v-af661f50> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0" data-v-8d50c081 data-v-d81de50c><!----><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/getting-started.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Getting Started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible has-active" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Core Concepts</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/function-composition.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Function Composition</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/lazy-evaluation.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Lazy Evaluation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/handle-concurrency.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Handle Concurrency</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/error-handling.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Error Handling</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/method-chaining.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Method Chaining</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>FAQ</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/to-async.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>When to use toAsync?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/guide/how-to-debug.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>How to debug in pipeline?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-sidebar has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _guide_lazy-evaluation" data-v-7011f0d8><div><h1 id="lazy-evaluation" tabindex="-1">Lazy Evaluation <a class="header-anchor" href="#lazy-evaluation" aria-label="Permalink to “Lazy Evaluation”">​</a></h1><p>FxTS provides <a href="https://en.wikipedia.org/wiki/Lazy_evaluation" target="_blank" rel="noreferrer">lazy evaluation</a>. Let me explain through code why lazy evaluation is useful.</p><p>We often see code like the one below. By writing code declaratively, we want to make code that is maintainable and easy to read.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sum);</span></span></code></pre></div><p>It looks very readable. Now let&#39;s see how it works.</p><p>To treat it as <a href="https://en.wikipedia.org/wiki/Immutable_object" target="_blank" rel="noreferrer">immutable</a>, each time the method proceeds, an array of a new size is created and the array is traversed.</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 2, 4, 6, 8]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 4, 16, 36, 64]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sum); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 120</span></span></code></pre></div><p>Because it iterates through all the array values, the logic that reduces the size of the array, such as <code>slice</code> and <code>filter</code>, is usually placed in front of the logic (That way you can have fewer traversals).</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 2, 4, 6, 8]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 2]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 4]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sum); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4</span></span></code></pre></div><p>Currently, the size of array is very small, so it doesn&#39;t seem like a problem. But if the size gets really big, do we have to go back to imperative programming?</p><p>FxTS can be used as a combination of functions that deal with <code>Iterable</code>/<code>AsyncIterble</code>, in which case it evaluates the value from the <code>Iterable</code>/<code>AsyncIterable</code> only as needed.</p><p><code>take(2)</code>(only 2 values) are evaluated and no further values are evaluated after that. In addition, the above code <code>Array.prototype.filter</code> needs to traverse all values, while the code below only evaluates the values it needs. Even the <code>filter</code>.</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 2]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 4]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  take</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 4]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sum), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>FxTS are a useful way to represent large or possibly infinite enumerable data sets</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Infinity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 2]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 4]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  take</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [0, 4]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sum), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Combinations of <code>Lazy</code> functions don&#39;t evaluate actual values like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator" target="_blank" rel="noreferrer">generator</a>. It can be evaluated with a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" target="_blank" rel="noreferrer">for-of</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of" target="_blank" rel="noreferrer">await for-of</a>, <code>Strict</code> functions. <code>Strict</code> functions can be found <a href="https://fxts.dev/api#strict" target="_blank" rel="noreferrer">here</a></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> squareNums</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Infinity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// not evaluated not yet</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  squareNums,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  take</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  toArray, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Strict function</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Lazy functions can be found <a href="https://fxts.dev/api#lazy" target="_blank" rel="noreferrer">here</a></p><h3 id="useful-example" tabindex="-1">Useful Example <a class="header-anchor" href="#useful-example" aria-label="Permalink to “Useful Example”">​</a></h3><p>The code below shows a more useful situation.</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * [{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   title: string,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   director: string,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   language: string,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   genre: string,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   rating: number,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *   ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * }]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchMovie</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">year</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`https://api.movie.xxx/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">year</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> recommendMovie</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">year</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">rating</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(year, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Infinity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    toAsync,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fetchMovie),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">movie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> movie.rating </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rating),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    head,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> recommendMovie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2020</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/guide/function-composition.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Function Composition</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/guide/handle-concurrency.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Handle Concurrency</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1df9f90f data-v-c3855bb3><div class="container" data-v-c3855bb3><p class="message" data-v-c3855bb3>Released under the Apache-2.0 License.</p><p class="copyright" data-v-c3855bb3>Copyright © 2025 <a href="https://www.marpplecorp.com/">MARPPLE CORP.</a></p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_add.md\":\"h5vp0ags\",\"api_always.md\":\"CDuEr4z1\",\"api_append.md\":\"8hTX2ed2\",\"api_apply.md\":\"QtRwP-mj\",\"api_average.md\":\"gLrCsy4w\",\"api_cases.md\":\"CH3glb1D\",\"api_chunk.md\":\"DUPpIrIP\",\"api_compact.md\":\"BME0ru84\",\"api_compactobject.md\":\"DDrlkH_H\",\"api_compress.md\":\"Cl2Xb_zJ\",\"api_concat.md\":\"BgpnvBmA\",\"api_concurrent.md\":\"Nk90_fyH\",\"api_concurrentpool.md\":\"D0ZRhwCs\",\"api_consume.md\":\"DHJLRBOp\",\"api_countby.md\":\"V46syESG\",\"api_curry.md\":\"DaRlP9UJ\",\"api_cycle.md\":\"yVyZqWim\",\"api_debounce.md\":\"BcyJ22eO\",\"api_delay.md\":\"DbiVwA2-\",\"api_difference.md\":\"DT6K1lLE\",\"api_differenceby.md\":\"B6SrNwe0\",\"api_drop.md\":\"CKKHW9E_\",\"api_dropright.md\":\"OalwSYV9\",\"api_dropuntil.md\":\"DoEIyKeU\",\"api_dropwhile.md\":\"CVrMGym2\",\"api_each.md\":\"BxhuQPFG\",\"api_entries.md\":\"BsgGALXz\",\"api_every.md\":\"ZMvPDIC8\",\"api_evolve.md\":\"BFar6cYv\",\"api_filter.md\":\"B4tckIwi\",\"api_find.md\":\"OU_mqtFo\",\"api_findindex.md\":\"mdWTXUMO\",\"api_flat.md\":\"BepoZJLH\",\"api_flatmap.md\":\"eaKvUPbz\",\"api_fork.md\":\"BB82kkQ9\",\"api_fromentries.md\":\"DeCPatC7\",\"api_fx.md\":\"C6OzRMOv\",\"api_groupby.md\":\"DGfMCtX9\",\"api_gt.md\":\"CaSRMGd_\",\"api_gte.md\":\"tKSuoEqA\",\"api_head.md\":\"B0DWA_0t\",\"api_identity.md\":\"LB7EJWUE\",\"api_includes.md\":\"CbjmgO9L\",\"api_index.md\":\"Dbt5d8Sw\",\"api_indexby.md\":\"FNWmMfPV\",\"api_intersection.md\":\"CNEtbobp\",\"api_intersectionby.md\":\"Wfc4UZzL\",\"api_isarray.md\":\"6XzUkwab\",\"api_isboolean.md\":\"CwYgGQ4f\",\"api_isdate.md\":\"D7psxTDe\",\"api_isempty.md\":\"D3vj0Z1X\",\"api_isnil.md\":\"BmECr75K\",\"api_isnull.md\":\"DMhREkI5\",\"api_isnumber.md\":\"BEfhD-az\",\"api_isobject.md\":\"B8sc6ZbG\",\"api_isstring.md\":\"bFfNSu0B\",\"api_isundefined.md\":\"__0i17Gu\",\"api_join.md\":\"BwTyrtVV\",\"api_juxt.md\":\"DLJYxoCo\",\"api_keys.md\":\"cFWPvTJg\",\"api_last.md\":\"DfkKxX83\",\"api_lt.md\":\"CIC6di6W\",\"api_lte.md\":\"BjWMrRO-\",\"api_map.md\":\"DLm1Ocud\",\"api_max.md\":\"BwHDyrES\",\"api_memoize.md\":\"DxQ7B-d6\",\"api_min.md\":\"TkOVH_i7\",\"api_negate.md\":\"C1cXEy53\",\"api_noop.md\":\"B5Vn7Bms\",\"api_not.md\":\"DphJ3aQa\",\"api_nth.md\":\"CKYg0PTN\",\"api_omit.md\":\"NX6G5Bzd\",\"api_omitby.md\":\"BW2IrNC1\",\"api_partition.md\":\"DzVLw2p8\",\"api_peek.md\":\"DasAY93B\",\"api_pick.md\":\"C_iXFbzN\",\"api_pickby.md\":\"BpXIEMQ_\",\"api_pipe.md\":\"Bg_RoO7l\",\"api_pipelazy.md\":\"C0-2JXq3\",\"api_pluck.md\":\"XZJHD4qc\",\"api_prepend.md\":\"uuVwXf-b\",\"api_prop.md\":\"Dijlqvp9\",\"api_props.md\":\"DYyo2o6-\",\"api_range.md\":\"CkQaMPNU\",\"api_reduce.md\":\"D1vYn9d6\",\"api_reducelazy.md\":\"DoE4SI5v\",\"api_reject.md\":\"B9v6UZFc\",\"api_repeat.md\":\"D-NJTcOB\",\"api_resolveprops.md\":\"DGOrx4ci\",\"api_reverse.md\":\"BpB_wAnt\",\"api_scan.md\":\"M465K7w0\",\"api_shuffle.md\":\"KeTFQY-O\",\"api_size.md\":\"_Hhdsg3y\",\"api_slice.md\":\"B6Imo1gw\",\"api_some.md\":\"jzwELxga\",\"api_sort.md\":\"BLifH7ux\",\"api_sortby.md\":\"DOlOB1xF\",\"api_split.md\":\"QIJz4i79\",\"api_sum.md\":\"Dgzv8fnb\",\"api_take.md\":\"DksCFrOA\",\"api_takeright.md\":\"BmiwVzSx\",\"api_takeuntil.md\":\"B9Y9jMR9\",\"api_takeuntilinclusive.md\":\"C4p8cqA3\",\"api_takewhile.md\":\"DbVcQkSe\",\"api_tap.md\":\"Co37EV3Q\",\"api_throwerror.md\":\"C8n-TJX6\",\"api_throwif.md\":\"C8gf3buT\",\"api_toarray.md\":\"ML3fRVx9\",\"api_toasync.md\":\"CkRfww2_\",\"api_transpose.md\":\"xSwb6Fde\",\"api_unicodetoarray.md\":\"l3XNM2IC\",\"api_uniq.md\":\"CNXfngdY\",\"api_uniqby.md\":\"C0t_mMIM\",\"api_unless.md\":\"D_MKto2g\",\"api_values.md\":\"Dp2GE_JK\",\"api_when.md\":\"D1V1MVNT\",\"api_zip.md\":\"CMi3Ue5l\",\"api_zipwith.md\":\"BPS-E3zL\",\"api_zipwithindex.md\":\"D39a1nzT\",\"guide_error-handling.md\":\"Ddt9G8pP\",\"guide_function-composition.md\":\"FFgzHT0i\",\"guide_getting-started.md\":\"DdW67DSw\",\"guide_handle-concurrency.md\":\"Guo7tO29\",\"guide_how-to-debug.md\":\"gQIUkzug\",\"guide_lazy-evaluation.md\":\"B4b2LQyi\",\"guide_method-chaining.md\":\"Mx-YEG-F\",\"guide_to-async.md\":\"BF7l6_Zn\",\"index.md\":\"Cnb6o7AD\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en\",\"dir\":\"ltr\",\"title\":\"FxTS\",\"description\":\"A functional library for TypeScript/JavaScript programmers.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/img/fxts.png\",\"siteTitle\":\"FxTS\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/getting-started\",\"activeMatch\":\"/guide/\"},{\"text\":\"API\",\"link\":\"/api/\",\"activeMatch\":\"/api/\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/marpple/fxts\"}],\"sidebar\":{\"/\":[{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Core Concepts\",\"collapsed\":false,\"items\":[{\"text\":\"Function Composition\",\"link\":\"/guide/function-composition\"},{\"text\":\"Lazy Evaluation\",\"link\":\"/guide/lazy-evaluation\"},{\"text\":\"Handle Concurrency\",\"link\":\"/guide/handle-concurrency\"},{\"text\":\"Error Handling\",\"link\":\"/guide/error-handling\"},{\"text\":\"Method Chaining\",\"link\":\"/guide/method-chaining\"}]},{\"text\":\"FAQ\",\"collapsed\":false,\"items\":[{\"text\":\"When to use toAsync?\",\"link\":\"/guide/to-async\"},{\"text\":\"How to debug in pipeline?\",\"link\":\"/guide/how-to-debug\"}]}],\"/api/\":[{\"text\":\"API Reference\",\"link\":\"/api/\"},{\"text\":\"Lazy\",\"collapsed\":false,\"items\":[{\"text\":\"append\",\"link\":\"/api/append\"},{\"text\":\"chunk\",\"link\":\"/api/chunk\"},{\"text\":\"compact\",\"link\":\"/api/compact\"},{\"text\":\"compress\",\"link\":\"/api/compress\"},{\"text\":\"concat\",\"link\":\"/api/concat\"},{\"text\":\"concurrent\",\"link\":\"/api/concurrent\"},{\"text\":\"concurrentPool\",\"link\":\"/api/concurrentPool\"},{\"text\":\"cycle\",\"link\":\"/api/cycle\"},{\"text\":\"drop\",\"link\":\"/api/drop\"},{\"text\":\"dropRight\",\"link\":\"/api/dropRight\"},{\"text\":\"difference\",\"link\":\"/api/difference\"},{\"text\":\"differenceBy\",\"link\":\"/api/differenceBy\"},{\"text\":\"dropUntil\",\"link\":\"/api/dropUntil\"},{\"text\":\"dropWhile\",\"link\":\"/api/dropWhile\"},{\"text\":\"entries\",\"link\":\"/api/entries\"},{\"text\":\"filter\",\"link\":\"/api/filter\"},{\"text\":\"flat\",\"link\":\"/api/flat\"},{\"text\":\"flatMap\",\"link\":\"/api/flatMap\"},{\"text\":\"fork\",\"link\":\"/api/fork\"},{\"text\":\"fx\",\"link\":\"/api/fx\"},{\"text\":\"intersection\",\"link\":\"/api/intersection\"},{\"text\":\"intersectionBy\",\"link\":\"/api/intersectionBy\"},{\"text\":\"keys\",\"link\":\"/api/keys\"},{\"text\":\"map\",\"link\":\"/api/map\"},{\"text\":\"peek\",\"link\":\"/api/peek\"},{\"text\":\"pipeLazy\",\"link\":\"/api/pipeLazy\"},{\"text\":\"pluck\",\"link\":\"/api/pluck\"},{\"text\":\"prepend\",\"link\":\"/api/prepend\"},{\"text\":\"range\",\"link\":\"/api/range\"},{\"text\":\"reject\",\"link\":\"/api/reject\"},{\"text\":\"repeat\",\"link\":\"/api/repeat\"},{\"text\":\"reverse\",\"link\":\"/api/reverse\"},{\"text\":\"scan\",\"link\":\"/api/scan\"},{\"text\":\"slice\",\"link\":\"/api/slice\"},{\"text\":\"split\",\"link\":\"/api/split\"},{\"text\":\"take\",\"link\":\"/api/take\"},{\"text\":\"takeRight\",\"link\":\"/api/takeRight\"},{\"text\":\"takeUntilInclusive\",\"link\":\"/api/takeUntilInclusive\"},{\"text\":\"takeWhile\",\"link\":\"/api/takeWhile\"},{\"text\":\"toAsync\",\"link\":\"/api/toAsync\"},{\"text\":\"transpose\",\"link\":\"/api/transpose\"},{\"text\":\"uniq\",\"link\":\"/api/uniq\"},{\"text\":\"uniqBy\",\"link\":\"/api/uniqBy\"},{\"text\":\"values\",\"link\":\"/api/values\"},{\"text\":\"zip\",\"link\":\"/api/zip\"},{\"text\":\"zipWith\",\"link\":\"/api/zipWith\"},{\"text\":\"zipWithIndex\",\"link\":\"/api/zipWithIndex\"}]},{\"text\":\"Strict\",\"collapsed\":false,\"items\":[{\"text\":\"add\",\"link\":\"/api/add\"},{\"text\":\"always\",\"link\":\"/api/always\"},{\"text\":\"apply\",\"link\":\"/api/apply\"},{\"text\":\"average\",\"link\":\"/api/average\"},{\"text\":\"cases\",\"link\":\"/api/cases\"},{\"text\":\"compactObject\",\"link\":\"/api/compactObject\"},{\"text\":\"consume\",\"link\":\"/api/consume\"},{\"text\":\"countBy\",\"link\":\"/api/countBy\"},{\"text\":\"curry\",\"link\":\"/api/curry\"},{\"text\":\"delay\",\"link\":\"/api/delay\"},{\"text\":\"each\",\"link\":\"/api/each\"},{\"text\":\"every\",\"link\":\"/api/every\"},{\"text\":\"evolve\",\"link\":\"/api/evolve\"},{\"text\":\"find\",\"link\":\"/api/find\"},{\"text\":\"findIndex\",\"link\":\"/api/findIndex\"},{\"text\":\"fromEntries\",\"link\":\"/api/fromEntries\"},{\"text\":\"groupBy\",\"link\":\"/api/groupBy\"},{\"text\":\"gt\",\"link\":\"/api/gt\"},{\"text\":\"gte\",\"link\":\"/api/gte\"},{\"text\":\"head\",\"link\":\"/api/head\"},{\"text\":\"identity\",\"link\":\"/api/identity\"},{\"text\":\"includes\",\"link\":\"/api/includes\"},{\"text\":\"indexBy\",\"link\":\"/api/indexBy\"},{\"text\":\"isArray\",\"link\":\"/api/isArray\"},{\"text\":\"isBoolean\",\"link\":\"/api/isBoolean\"},{\"text\":\"isDate\",\"link\":\"/api/isDate\"},{\"text\":\"isEmpty\",\"link\":\"/api/isEmpty\"},{\"text\":\"isNil\",\"link\":\"/api/isNil\"},{\"text\":\"isNumber\",\"link\":\"/api/isNumber\"},{\"text\":\"isObject\",\"link\":\"/api/isObject\"},{\"text\":\"isString\",\"link\":\"/api/isString\"},{\"text\":\"isUndefined\",\"link\":\"/api/isUndefined\"},{\"text\":\"join\",\"link\":\"/api/join\"},{\"text\":\"juxt\",\"link\":\"/api/juxt\"},{\"text\":\"last\",\"link\":\"/api/last\"},{\"text\":\"lt\",\"link\":\"/api/lt\"},{\"text\":\"lte\",\"link\":\"/api/lte\"},{\"text\":\"max\",\"link\":\"/api/max\"},{\"text\":\"memoize\",\"link\":\"/api/memoize\"},{\"text\":\"min\",\"link\":\"/api/min\"},{\"text\":\"negate\",\"link\":\"/api/negate\"},{\"text\":\"noop\",\"link\":\"/api/noop\"},{\"text\":\"not\",\"link\":\"/api/not\"},{\"text\":\"nth\",\"link\":\"/api/nth\"},{\"text\":\"omit\",\"link\":\"/api/omit\"},{\"text\":\"omitBy\",\"link\":\"/api/omitBy\"},{\"text\":\"partition\",\"link\":\"/api/partition\"},{\"text\":\"pick\",\"link\":\"/api/pick\"},{\"text\":\"pickBy\",\"link\":\"/api/pickBy\"},{\"text\":\"pipe\",\"link\":\"/api/pipe\"},{\"text\":\"prop\",\"link\":\"/api/prop\"},{\"text\":\"props\",\"link\":\"/api/props\"},{\"text\":\"reduce\",\"link\":\"/api/reduce\"},{\"text\":\"reduceLazy\",\"link\":\"/api/reduceLazy\"},{\"text\":\"resolveProps\",\"link\":\"/api/resolveProps\"},{\"text\":\"size\",\"link\":\"/api/size\"},{\"text\":\"some\",\"link\":\"/api/some\"},{\"text\":\"sort\",\"link\":\"/api/sort\"},{\"text\":\"sortBy\",\"link\":\"/api/sortBy\"},{\"text\":\"sum\",\"link\":\"/api/sum\"},{\"text\":\"tap\",\"link\":\"/api/tap\"},{\"text\":\"throwError\",\"link\":\"/api/throwError\"},{\"text\":\"throwIf\",\"link\":\"/api/throwIf\"},{\"text\":\"toArray\",\"link\":\"/api/toArray\"},{\"text\":\"unicodeToArray\",\"link\":\"/api/unicodeToArray\"},{\"text\":\"unless\",\"link\":\"/api/unless\"},{\"text\":\"when\",\"link\":\"/api/when\"}]},{\"text\":\"Util\",\"collapsed\":false,\"items\":[{\"text\":\"debounce\",\"link\":\"/api/debounce\"},{\"text\":\"shuffle\",\"link\":\"/api/shuffle\"}]}]},\"footer\":{\"message\":\"Released under the Apache-2.0 License.\",\"copyright\":\"Copyright © 2025 <a href=\\\"https://www.marpplecorp.com/\\\">MARPPLE CORP.</a>\"},\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"0G39LGZ9QE\",\"apiKey\":\"6234b2f489b3f43928034ab6c128f06c\",\"indexName\":\"fxts\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>